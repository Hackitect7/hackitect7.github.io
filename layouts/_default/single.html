{{ define "main" }}
  {{- $ctx := . -}}

  {{/* Локализация (приводим к string) */}}
  {{- $dateFmt := printf "%s" (partial "t.html" (dict "key" "ui.common.dateFormat" "ctx" $ctx "default" "Jan 02, 2006")) -}}
  {{- $minRead := printf "%s" (partial "t.html" (dict "key" "ui.common.minRead"    "ctx" $ctx "default" "min read")) -}}

  <section class="hero section">
    <h1>{{ .Title }}</h1>

    {{- /* Мета-инфо: дата, чтение, теги, категории */ -}}
    {{- $meta := slice -}}
    {{- with .Date -}}
      {{- $meta = $meta | append (.Format $dateFmt) -}}
    {{- end -}}
    {{- with .ReadingTime -}}
      {{- $meta = $meta | append (printf "%d %s" . $minRead) -}}
    {{- end -}}
    {{- with .Params.tags -}}
      {{- if gt (len .) 0 -}}
        {{- $meta = $meta | append (delimit . ", ") -}}
      {{- end -}}
    {{- end -}}
    {{- with .Params.categories -}}
      {{- if gt (len .) 0 -}}
        {{- $meta = $meta | append (delimit . ", ") -}}
      {{- end -}}
    {{- end -}}

    {{- if gt (len $meta) 0 -}}
      <p class="sub">{{ delimit $meta " · " }}</p>
    {{- end -}}
  </section>

  <article class="section card">
    {{ .Content }}
  </article>
{{ end }}
